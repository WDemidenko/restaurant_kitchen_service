{% extends "base.html" %}
{% load crispy_forms_filters %}

{% block content %}

  <h1>Dishes</h1>
  <div class="d-flex flex-column flex-md-row align-items-center justify-content-between">
    <div class="mb-3 mb-md-0">
      <form action="" method="get" class="d-flex">
        {% csrf_token %}
        <div class="me-3">
          {{ search_form|crispy }}
        </div>
        <button class="btn btn-outline-info" type="submit"><span>Search</span></button>
      </form>
    </div>
    <div>
      <a href="{% url 'kitchen:dish-create' %}">
        <button type="button" class="btn btn-outline-dark">Add new dish</button>
      </a>
    </div>
  </div>
  {% if dish_list %}
    {% for dish in dish_list %}
  <div class="position-relative border-radius-xl overflow-hidden shadow-lg mb-7">
    <div class="container border-bottom">
      <div class="row justify-space-between py-2">
        <div class="col-lg-3 me-auto">
          <p class="lead text-dark pt-1 mb-0">{{ dish.name }}</p>
           price: {{ dish.price }}
        </div>
        <p>{{ dish.description }}</p>
        <div class="col-lg-3">
          <div class="nav-wrapper position-relative end-0">
            <ul class="nav nav-pills nav-fill flex-row p-1" role="tablist">
              <li class="nav-item">
                <a class="nav-link mb-0 px-0 py-1 active" data-bs-toggle="tab" href="{% url "kitchen:dish-detail" pk=dish.id %}" role="tab"
                   aria-controls="preview" aria-selected="true">
                  <i class="text-sm me-2"></i> Details
                </a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
    {% endfor %}
  {% else %}
    <p>No dishes</p>
  {% endif %}

{% endblock %}


